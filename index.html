<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Court ‚Äì Real-Life Basketball Organizer</title>
  <style>
    /* Basic reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #fff;
      color: #000;
      /* Faint basketball-court-like pattern */
      background-image: 
        linear-gradient(rgba(0, 0, 0, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px);
      background-size: 50px 50px;
      background-repeat: repeat;
      width: 100%;
      min-height: 100vh;
      transition: background-color 0.5s ease;
    }

    /* Top navigation bar */
    #navBar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid #ddd;
      position: fixed;
      width: 100%;
      background: #fff;
      z-index: 1000;
    }

    #navLeft {
      font-weight: bold;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }

    #navRight {
      display: flex;
      gap: 0.5rem;
    }

    button, .nav-btn {
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      border: 1px solid #000;
      background: #fff;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    button:hover, .nav-btn:hover {
      background: #000;
      color: #fff;
    }

    /* Container for pages */
    .page {
      display: none;
      padding: 5rem 1rem 1rem;
      max-width: 600px;
      margin: 0 auto;
      transition: opacity 0.3s ease;
    }
    .page.active {
      display: block;
    }

    /* Headings and layout for each page */
    h2 {
      margin-bottom: 1rem;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1rem;
    }

    input, select {
      padding: 0.5rem;
      border: 1px solid #999;
      border-radius: 0.3rem;
    }

    .action-btn {
      border: 1px solid #000;
      background: #fff;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.2s ease;
      max-width: 200px;
      text-align: center;
    }

    .action-btn:hover {
      background: #000;
      color: #fff;
    }

    /* Minimal styling for the leaderboard table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      padding: 0.5rem;
      text-align: left;
      border-bottom: 1px solid #ccc;
    }

    /* Extra spacing to avoid content behind fixed nav */
    #mainContent {
      padding-top: 4.5rem;
    }

  </style>
</head>
<body>
  <!-- Fixed Navigation Bar -->
  <div id="navBar">
    <div id="navLeft" onclick="showPage('homePage')">
      <!-- Simple icon or text for "Court" brand -->
      <span>üèÄ Court</span>
    </div>
    <div id="navRight">
      <button class="nav-btn" onclick="showPage('loginPage')">Login</button>
      <button class="nav-btn" onclick="showPage('signUpPage')">Sign Up</button>
    </div>
  </div>

  <div id="mainContent">
    <!-- HOME PAGE -->
    <div id="homePage" class="page active">
      <h2>Welcome to Court</h2>
      <p>Organize real-life basketball games with ease.</p>
      <div style="margin-top: 2rem;">
        <button class="action-btn" onclick="showPage('checkRankPage')">Check Rank</button>
        <button class="action-btn" onclick="showPage('enterGamePage')">Enter Game</button>
        <button class="action-btn" onclick="showPage('createGamePage')">Create Game</button>
        <button class="action-btn" onclick="showPage('leaderboardPage')">Leaderboard</button>
      </div>
    </div>

    <!-- LOGIN PAGE -->
    <div id="loginPage" class="page">
      <h2>Login</h2>
      <form onsubmit="handleLogin(event)">
        <input type="text" id="loginUsername" placeholder="Username" required />
        <input type="password" id="loginPassword" placeholder="Password" required />
        <button type="submit" class="action-btn">Login</button>
      </form>
    </div>

    <!-- SIGN UP PAGE (Username, Password, City, State) -->
    <div id="signUpPage" class="page">
      <h2>Sign Up</h2>
      <form onsubmit="handleSignUp(event)">
        <input type="text" id="signUpUsername" placeholder="Username" required />
        <input type="password" id="signUpPassword" placeholder="Password" required />

        <!-- City and state (USA only) -->
        <input type="text" id="signUpCity" placeholder="City" required />
        <select id="signUpState" required>
          <option value="">Select State</option>
          <option value="AL">Alabama</option>
          <option value="AK">Alaska</option>
          <option value="AZ">Arizona</option>
          <option value="AR">Arkansas</option>
          <option value="CA">California</option>
          <option value="CO">Colorado</option>
          <option value="CT">Connecticut</option>
          <option value="DE">Delaware</option>
          <option value="FL">Florida</option>
          <option value="GA">Georgia</option>
          <option value="HI">Hawaii</option>
          <option value="ID">Idaho</option>
          <option value="IL">Illinois</option>
          <option value="IN">Indiana</option>
          <option value="IA">Iowa</option>
          <option value="KS">Kansas</option>
          <option value="KY">Kentucky</option>
          <option value="LA">Louisiana</option>
          <option value="ME">Maine</option>
          <option value="MD">Maryland</option>
          <option value="MA">Massachusetts</option>
          <option value="MI">Michigan</option>
          <option value="MN">Minnesota</option>
          <option value="MS">Mississippi</option>
          <option value="MO">Missouri</option>
          <option value="MT">Montana</option>
          <option value="NE">Nebraska</option>
          <option value="NV">Nevada</option>
          <option value="NH">New Hampshire</option>
          <option value="NJ">New Jersey</option>
          <option value="NM">New Mexico</option>
          <option value="NY">New York</option>
          <option value="NC">North Carolina</option>
          <option value="ND">North Dakota</option>
          <option value="OH">Ohio</option>
          <option value="OK">Oklahoma</option>
          <option value="OR">Oregon</option>
          <option value="PA">Pennsylvania</option>
          <option value="RI">Rhode Island</option>
          <option value="SC">South Carolina</option>
          <option value="SD">South Dakota</option>
          <option value="TN">Tennessee</option>
          <option value="TX">Texas</option>
          <option value="UT">Utah</option>
          <option value="VT">Vermont</option>
          <option value="VA">Virginia</option>
          <option value="WA">Washington</option>
          <option value="WV">West Virginia</option>
          <option value="WI">Wisconsin</option>
          <option value="WY">Wyoming</option>
        </select>
        <button type="submit" class="action-btn">Sign Up</button>
      </form>
    </div>

    <!-- CHECK RANK PAGE -->
    <div id="checkRankPage" class="page">
      <h2>Check Rank</h2>
      <form onsubmit="handleCheckRank(event)">
        <input type="text" id="checkRankUsername" placeholder="Enter Username" required />
        <button type="submit" class="action-btn">Check Rank</button>
      </form>
      <div id="rankResult" style="margin-top:1rem;"></div>
    </div>

    <!-- ENTER GAME PAGE -->
    <div id="enterGamePage" class="page">
      <h2>Enter Game</h2>
      <form onsubmit="handleEnterGame(event)">
        <input type="text" id="enterGameCode" placeholder="Enter Game Code" required />
        <button type="submit" class="action-btn">Enter</button>
      </form>
      <div id="enterGameResult" style="margin-top:1rem;"></div>
    </div>

    <!-- CREATE GAME PAGE -->
    <div id="createGamePage" class="page">
      <h2>Create Game</h2>
      <form onsubmit="handleCreateGame(event)">
        <select id="createGameType" required>
          <option value="">Select Game Type</option>
          <option value="1v1">1v1</option>
          <option value="2v2">2v2</option>
          <option value="3v3">3v3</option>
          <option value="4v4">4v4</option>
          <option value="5v5">5v5</option>
        </select>
        <button type="submit" class="action-btn">Create</button>
      </form>
      <div id="createGameResult" style="margin-top:1rem;"></div>
    </div>

    <!-- LEADERBOARD PAGE -->
    <div id="leaderboardPage" class="page">
      <h2>Leaderboard</h2>
      <p>Below is a simple listing by city, state, and overall rank. (Mock example)</p>
      <table>
        <thead>
          <tr>
            <th>Username</th>
            <th>City</th>
            <th>State</th>
            <th>Rank</th>
          </tr>
        </thead>
        <tbody id="leaderboardTable">
          <!-- Filled by JavaScript or your dynamic data -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    // Insert your Supabase credentials here:
    const SUPABASE_URL = "YOUR_SUPABASE_URL";
    const SUPABASE_ANON_KEY = "YOUR_SUPABASE_ANON_KEY";

    // Example: const { createClient } = supabase;
    // const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // Page navigation function
    function showPage(pageId) {
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => {
        page.classList.remove('active');
      });
      const currentPage = document.getElementById(pageId);
      if (currentPage) {
        currentPage.classList.add('active');
      }
      // Scroll to top for a clean transition
      window.scrollTo(0, 0);
    }

    // Handle Login
    function handleLogin(event) {
      event.preventDefault();
      const username = document.getElementById('loginUsername').value;
      const password = document.getElementById('loginPassword').value;
      // Here you would call supabase.auth.signInWithPassword({ email/username, password })
      // For demonstration, just alert:
      alert("Login attempt for " + username);
    }

    // Handle Sign Up
    function handleSignUp(event) {
      event.preventDefault();
      const username = document.getElementById('signUpUsername').value;
      const password = document.getElementById('signUpPassword').value;
      const city = document.getElementById('signUpCity').value;
      const state = document.getElementById('signUpState').value;
      // Here you would call supabase.auth.signUp(...) and then insert into profiles
      alert("Sign up attempt for " + username + " (" + city + ", " + state + ")");
    }

    // Check Rank
    function handleCheckRank(event) {
      event.preventDefault();
      const username = document.getElementById('checkRankUsername').value;
      // Example fetch from "profiles" table using supabase:
      // let { data: profile, error } = await supabase.from('profiles').select('*').eq('username', username).single();
      const rankResult = document.getElementById('rankResult');
      // Placeholder:
      rankResult.innerText = "Rank for " + username + " is: [Mock Rank]";
    }

    // Enter Game
    function handleEnterGame(event) {
      event.preventDefault();
      const gameCode = document.getElementById('enterGameCode').value;
      const resultDiv = document.getElementById('enterGameResult');
      // You would look up the game in your "games" table, and insert into "player_in_game"
      resultDiv.innerText = "Entered game: " + gameCode + " (Placeholder)";
    }

    // Create Game
    function handleCreateGame(event) {
      event.preventDefault();
      const gameType = document.getElementById('createGameType').value;
      const resultDiv = document.getElementById('createGameResult');
      // Generate a unique code or let the DB do it, then insert into "games" table
      const newCode = "GAME-" + Math.floor(100000 + Math.random() * 900000); // placeholder
      resultDiv.innerText = "Created " + gameType + " game with code: " + newCode;
    }

    // You could also load the leaderboard from Supabase:
    //   supabase.from('profiles').select('*').order('rank', { ascending: false })
    //   Then populate #leaderboardTable with user data.

    // For demonstration, let's add a mock row to the leaderboard
    const leaderboardTable = document.getElementById('leaderboardTable');
    const mockRow = document.createElement('tr');
    mockRow.innerHTML = "<td>MockUser</td><td>Atlanta</td><td>GA</td><td>99</td>";
    leaderboardTable.appendChild(mockRow);
  </script>
</body>
</html>
